df <-  na.omit(read.csv("MyData.csv", header=T))
# pdf("outcomes.pdf",width=10, height=10)
# par(mfcol=c(4,1))
plot(df$seqid,df$avgbedocc, type='b', ylab="Bed Occupancy", xlab="", xaxt='n', lwd=1.5)
segments(x0=1,y0=mean(df$avgbedocc[1:50]), x1=51, y1=mean(df$avgbedocc[1:50]), lwd=2, col='red')
segments(x0=51,y0=mean(df$avgbedocc[51:69]), x1=69, y1=mean(df$avgbedocc[51:69]), lwd=2, col='red')
abline(v=51, lwd=2, col="grey")
axis(side=1, at=1:69, labels=F)
axis(side=1, at=seq(from=1, to=69, by=2), df$wkco[seq(from=1, to=69, by=2)], las=3, cex.axis=0.85)

plot(df$pdied~df$seqid, type='b', ylab="Hospital Mortality", xlab="", xaxt='n', lwd=1.5)
segments(x0=1,y0=mean(df$pdied[1:50]), x1=51, y1=mean(df$pdied[1:50]), lwd=2, col='red')
segments(x0=51,y0=mean(df$pdied[51:69]), x1=69, y1=mean(df$pdied[51:69]), lwd=2, col='red')
abline(v=51, lwd=2, col="grey")
axis(side=1, at=1:69, labels=F)
axis(side=1, at=seq(from=1, to=69, by=2), df$wkco[seq(from=1, to=69, by=2)], las=3, cex.axis=0.85)

plot(df$readmrate~df$seqid, type='b', ylab="Readmission Rate", xlab="", xaxt='n', lwd=1.5)
segments(x0=1,y0=mean(df$readmrate[1:50]), x1=51, y1=mean(df$readmrate[1:50]), lwd=2, col='red')
segments(x0=51,y0=mean(df$readmrate[51:69]), x1=69, y1=mean(df$readmrate[51:69]), lwd=2, col='red')
abline(v=51, lwd=2, col="grey")
axis(side=1, at=1:69, labels=F)
axis(side=1, at=seq(from=1, to=69, by=2), df$wkco[seq(from=1, to=69, by=2)], las=3, cex.axis=0.85)

plot(df$seqid,df$n, type='b', ylab="Number of admissions", xlab="", xaxt='n', lwd=1.5)
segments(x0=1,y0=mean(df$n[1:50]), x1=51, y1=mean(df$n[1:50]), lwd=2, col='red')
segments(x0=51,y0=mean(df$n[51:69]), x1=69, y1=mean(df$n[51:69]), lwd=2, col='red')
abline(v=51, lwd=2, col="grey")
axis(side=1, at=1:69, labels=F)
axis(side=1, at=seq(from=1, to=69, by=2), df$wkco[seq(from=1, to=69, by=2)], las=3, cex.axis=0.85)

# dev.off()
